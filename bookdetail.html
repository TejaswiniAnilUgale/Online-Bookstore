<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Bookstore</title>
    <link href="style-admin.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
   

<button type="button" id="sidebarCollapse" class="btn">
    <i class="fas fa-bars"></i>
</button>
<div class="container-fluid">
    <div class="row">
        <nav id="sidebar" class="col-md-3 col-lg-2 d-md-block sidebar">
            <div class="position-sticky pt-3">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <div class="admin-profile">
                            <div class="admin-info">
                                <a href="Admin.html">BookBin</a>
                            </div>
                        </div>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="overview.html">
                            <i class="fas fa-user"></i> Overview Analysis
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="bookdetail.html">
                            <i class="fas fa-user"></i> Books
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="user.html">
                            <i class="fas fa-user"></i> User Details
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="storage.html">
                            <i class="fas fa-user"></i> Storeges
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="content.html">
                            <i class="fas fa-user"></i> Content Management
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Index.html">
                            <i class="fas fa-file-alt"></i> SIGNOUT
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>
</div>

<main class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
    <h2 class="d-sm-none d-md-block">Book Details</h2>
    <div class="table-responsive">
        <table id="dataTable">
            <thead>
                <tr>
                    <th>Book Name</th>
                    <th>Book ID</th>
                    <th>Author</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Wings of Fire</td>
                    <td>BID001</td>
                    <td>Tui T. Sutherland</td>
                    <td>&#x20b9; 200</td>
                    <td>5</td>
                    <td>
                        <button class="btn  btn-sm edit-btn" style="background-color: #800000; color: white;">Edit</button>
                        <button class="btn  btn-sm delete-btn" style="background-color: #800000; color: white;">Delete</button>
                    </td>
                </tr>
                <tr>
                    <td>The Book Of Lost Names</td>
                    <td>BID002</td>
                    <td>Kristin Harmel</td>
                    <td>&#x20b9; 500</td>
                    <td>3</td>
                    <td>
                        <button class="btn  btn-sm edit-btn" style="background-color: #800000; color: white;">Edit</button>
                        <button class="btn  btn-sm delete-btn" style="background-color: #800000; color: white;">Delete</button>
                    </td>
                </tr>
                <tr>
                    <td>Stephen King</td>
                    <td>BID003</td>
                    <td>Mr.Mercedes and Finders Keepers</td>
                    <td>&#x20b9; 350</td>
                    <td>6</td>
                    <td>
                        <button class="btn  btn-sm edit-btn" style="background-color: #800000; color: white;">Edit</button>
                        <button class="btn  btn-sm delete-btn" style="background-color: #800000; color: white;">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <button class="btn mt-3" id="addRowBtn" style="background-color: #800000; color: white;">Add Book</button>
    <form id="editForm" style="display: none;">
        <div class="form-group">
            <label for="name">Book Name:</label>
            <input type="text" id="name" name="name" required>
        </div>
        <div class="form-group">
            <label for="email">Book Id:</label>
            <input type="text" id="id" name="id" required>
        </div>
        <div class="form-group">
            <label for="department">Author:</label>
            <input type="text" id="Author" name="Author" required>
        </div>
        <div class="form-group">
            <label for="code">Price:</label>
            <input type="text" id="Price" name="Price" required>
        </div>
        <div class="form-group">
            <label for="code">Amount:</label>
            <input type="text" id="Amount" name="Amount" required>
        </div>
        <button type="submit" class="btn " style="background-color: #800000; color: white;">Save</button>
        <button type="button" class="btn " style="background-color: #800000; color: white;" id="cancelBtn">Cancel</button>
    </form>
</main>
</div>
</div>


<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
    $(document).ready(function() {
         $('#sidebarCollapse').on('click', function() {
             $('#sidebar').toggleClass('collapsed');
             $(this).toggleClass('active');
         });

         $('#dataTable').on('click', '.delete-btn', function() {
             $(this).closest('tr').remove();
         });

         $('#dataTable').on('click', '.edit-btn', function() {
             var row = $(this).closest('tr');
             var name = row.find('td:nth-child(1)').text();
             var id = row.find('td:nth-child(2)').text();
             var Author = row.find('td:nth-child(3)').text();
             var Price = row.find('td:nth-child(4)').text();
             var Amount = row.find('td:nth-child(5)').text();

             $('#name').val(name);
             $('#id').val(id);
             $('#Author').val(Author);
             $('#Price').val(Price);
             $('#Amount').val(Amount);

             $('#editForm').show();
             $('#addRowBtn').hide();

             $('#editForm').submit(function(e) {
                 e.preventDefault();
                 var newName = $('#name').val();
                 var newId = $('#id').val();
                 var newAuthor = $('#Author').val();
                 var newPrice = $('#Price').val();
                 var newAmount = $('#Amount').val();

                 row.find('td:nth-child(1)').text(newName);
                 row.find('td:nth-child(2)').text(newId);
                 row.find('td:nth-child(3)').text(newAuthor);
                 row.find('td:nth-child(4)').text(newPrice);
                 row.find('td:nth-child(5)').text(newAmount);

                 $('#editForm').hide();
                 $('#addRowBtn').show();
                 $('#editForm')[0].reset();
             });

             $('#cancelBtn').click(function() {
                 $('#editForm').hide();
                 $('#addRowBtn').show();
                 $('#editForm')[0].reset();
             });
         });

         $('#addRowBtn').click(function() {
             $('#editForm').show();
             $('#addRowBtn').hide();

             $('#editForm').submit(function(e) {
                 e.preventDefault();
                 var newName = $('#name').val();
                 var newId = $('#id').val();
                 var newAuthor = $('#Author').val();
                 var newPrice = $('#Price').val();
                 var newAmount = $('#Amount').val();

                 $('#dataTable tbody').append('<tr><td>' + newName + '</td><td>' + newId + '</td><td>' + newAuthor + '</td><td>' + newPrice + '</td><td>' + newAmount +'</td><td> <button class="btn btn-sm edit-btn" style="background-color: #800000; color: white;">Edit</button> <button class="btn btn-sm delete-btn" style="background-color: #800000; color: white;">Delete</button></td></tr>');

                 $('#editForm').hide();
                 $('#addRowBtn').show();
                 $('#editForm')[0].reset();
             });

             $('#cancelBtn').click(function() {
                 $('#editForm').hide();
                 $('#addRowBtn').show();
                 $('#editForm')[0].reset();
             });
         });
     });
 </script>

</body>
</html>